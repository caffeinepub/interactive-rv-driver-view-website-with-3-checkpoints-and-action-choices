{
  "kind": "build_request",
  "title": "Replace road scene images with autoplay videos and add night drive effect",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Replace all road scene background images in frontend/src/components/rv/scenes.ts with the uploaded video files, ensuring each of the four road journey segments (morning, sunset, evening, night) uses the appropriate uploaded video as its background source",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1",
          "msg-7"
        ],
        "quotes": [
          "Replace the existing road scenery in the app",
          "replace all road scenes with videos"
        ]
      },
      "acceptanceCriteria": [
        "All four road journey segments in scenes.ts reference uploaded video files instead of static images",
        "Video sources are properly configured in the scene data structure",
        "No static road background images remain in the scene definitions"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Configure all road scene videos to loop continuously and autoplay when displayed in the TravelVideoScene component",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-9"
        ],
        "quotes": [
          "the videos need to loop and autoplay where it is used"
        ]
      },
      "acceptanceCriteria": [
        "Videos start playing automatically when the scene is rendered",
        "Videos loop seamlessly without user interaction",
        "Autoplay works across all road journey segments"
      ]
    },
    {
      "id": "REQ-3",
      "text": "Apply a darkening filter to one of the road scene videos to create a night drive effect, selecting the video based on the story flow progression (likely the evening or night segment)",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1",
          "msg-7"
        ],
        "quotes": [
          "make any one of the video bit dark to show night drive",
          "darken one based on the story flow"
        ]
      },
      "acceptanceCriteria": [
        "One road scene video has a darkening overlay or filter applied",
        "The darkened video is positioned appropriately in the journey progression",
        "The darkening effect creates a convincing night drive atmosphere"
      ]
    },
    {
      "id": "REQ-4",
      "text": "Preserve the existing click behavior on road scene videos so that clicking on the video advances the journey as it currently does with static images",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-9"
        ],
        "quotes": [
          "when clicking on it the current app behaviour should be there"
        ]
      },
      "acceptanceCriteria": [
        "Clicking on any road scene video triggers the same advancement logic as before",
        "Click hint overlay remains visible and functional",
        "Video playback does not interfere with click event handling"
      ]
    }
  ],
  "constraints": [
    "Do not modify the backend/main.mo file",
    "Do not change the existing RVExperience flow state machine logic",
    "Maintain compatibility with the TravelVideoScene component's existing video playback error handling"
  ],
  "nonGoals": [
    "Adding new journey segments or checkpoints",
    "Changing the overall story flow or progression logic",
    "Modifying audio behavior or sound effects",
    "Altering the styling or layout of overlays and UI elements"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}